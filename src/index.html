<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0" /> -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <title>Vocab Learning App</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="app">
      <!-- Tabs Navigation -->
      <nav class="tabs">
        <div class="tabs-content">
          <button class="tab-button active" data-tab="overview">
            Overview
          </button>
          <button class="tab-button" data-tab="lessions">Lessons</button>
          <button class="tab-button" data-tab="add">Add New</button>
          <button class="tab-button" data-tab="list">Vocabularies</button>
        </div>
      </nav>

      <!-- Tabs Content -->
      <section id="overview" class="tab-content active">
        <h1>Overview</h1>
        <!-- <p>Total Vocabulary: <span id="total-vocab">0</span></p>
        <p>
          Next Review: <span id="next-review-time">N/A</span> <br />
          Total to Review: <span id="total-review">0</span>
        </p> -->
        <!-- <button id="learn-btn">Start Learning</button> -->

        <div class="overview-card">
          <div class="card-header">
            <h2>Total Vocabularies</h2>
            <p class="total-vocab" id="total-vocab">0</p>
          </div>
          <div class="card-footer">
            <p>Next Review: <span id="next-review-time">N/A</span></p>
          </div>
          <div class="word-level-table">
            <table>
              <thead>
                <tr>
                  <th>
                    <span class="info-icon">
                      <p>Lv.1 <small>‚ÑπÔ∏è</small></p>
                      <div class="tooltip">Review after 1 hour</div>
                    </span>
                  </th>
                  <th>
                    <span class="info-icon">
                      <p>Lv.2 <small>‚ÑπÔ∏è</small></p>
                      <div class="tooltip">Review after 6 hours</div>
                    </span>
                  </th>
                  <th>
                    <span class="info-icon">
                      <p>Lv.3 <small>‚ÑπÔ∏è</small></p>
                      <div class="tooltip">Review after 1 day</div>
                    </span>
                  </th>
                  <th>
                    <span class="info-icon">
                      <p>Lv.4 <small>‚ÑπÔ∏è</small></p>
                      <div class="tooltip">Review after 3 days</div>
                    </span>
                  </th>
                  <th>
                    <span class="info-icon">
                      <p>Lv.5+ <small>‚ÑπÔ∏è</small></p>
                      <div class="tooltip">Review after 7+ days</div>
                    </span>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td id="level-1-count">20</td>
                  <td id="level-2-count">15</td>
                  <td id="level-3-count">25</td>
                  <td id="level-4-count">10</td>
                  <td id="level-5-count">20</td>
                </tr>
              </tbody>
            </table>
          </div>
          <button id="learn-btn" class="start-learning-btn">
            Start Learning
          </button>
        </div>
      </section>

      <section id="lessions" class="tab-content">
        <h1>Lessons</h1>
        <div id="lessons-container"></div>
      </section>

      <!-- Popup Modal -->
      <div class="modal-lession hidden">
        <div class="modal-content">
          <div class="modal-content-btn">
            <button id="import-words-btn">Import all</button>
            <button id="close-modal" width="30%" style="background-color: red">
              Close
            </button>
          </div>
          <h2 id="lesson-title"></h2>
          <p id="lesson-description"></p>
          <ul id="lesson-words"></ul>
        </div>
      </div>

      <section id="add" class="tab-content">
        <h1>Add New Vocabulary</h1>
        <form id="add-form">
          <textarea
            type="text"
            id="vocab-text"
            placeholder="Text(ex: Run)"
            onchange="processVocabText(event.target.value)"
            oninput="processVocabText(event.target.value)"
            required
          ></textarea>
          <input
            type="text"
            id="vocab-pronunciation"
            placeholder="Pronunciation(ex: /r ån/)"
          />
          <input type="text" id="vocab-type" placeholder="Type(ex: verb)" />
          <input
            type="text"
            id="vocab-translation"
            placeholder="Translations(comma separated, ex: Ch·∫°y)"
            required
          />
          <input type="url" id="vocab-image" placeholder="Image URL" />
          <textarea
            id="vocab-description"
            placeholder="Description(ex: To move quickly on foot.)"
          ></textarea>
          <button type="submit">Add Vocab</button>
        </form>

        <div>
          <p>
            Below is a pre-written prompt you can use to interact with ChatGPT.
            Follow these steps:
          </p>
          <ol>
            <li>Review or edit the text in the box below as needed.</li>
            <li>
              Click the <b>"Click to Copy"</b> button to copy the text to your
              clipboard.
            </li>
            <li>Paste the text into ChatGPT and ask for help.</li>
            <li>
              After receiving the response, copy the result from ChatGPT and
              paste it into the <b>Vocab Text</b> field in your application.
            </li>
          </ol>
          <textarea id="chatgpt-prompt" rows="15" cols="50">
Every time I send an English word, please provide its information in the following format:  
1. Must exactly match my sample.  
2. Just give me what I need, nothing more.  
3. The description should begin with a single sentence that defines the word. Then, include three sample sentences illustrating its usage.  

Here is an example:  

Word: Kidnap  
Type: Verb  
Pronunciation: /Ààk…™d.n√¶p/  
Translations: B·∫Øt c√≥c  
Description: To take someone away illegally by force, often to demand something in return.  
The criminals plan to kidnap the millionaire‚Äôs child.  
The police arrested a gang that tried to kidnap a tourist.  
It's a crime to kidnap anyone, regardless of their background.  

Let‚Äôs start with "kidnap".
          </textarea>
          <br />
          <button id="copy-button">Click to Copy</button>
        </div>
      </section>

      <section id="list" class="tab-content">
        <h1>All Vocabulary</h1>
        <div class="button-container">
          <button id="import-btn">Import</button>
          <input
            type="file"
            id="import-file"
            accept=".json"
            style="display: none"
          />
          <button id="export-btn">Export</button>
        </div>
        <div id="voice-selector-container">
          <label for="voice-selector">Select Voice:</label>
          <select id="voice-selector"></select>
        </div>
        <div id="filters">
          <label for="filter-level">Filter by Level:</label>
          <select id="filter-level">
            <option value="">All Levels</option>
            <option value="1">Level 1</option>
            <option value="2">Level 2</option>
            <option value="3">Level 3</option>
            <option value="4">Level 4</option>
            <option value="5">Level 5</option>
            <option value="6">Level 6</option>
            <option value="7">Level 7</option>
          </select>
        </div>

        <div id="vocab-list"></div>
      </section>
    </div>

    <!-- Learning Modal -->
    <div id="learning-modal" class="modal">
      <div class="modal-content">
        <button id="stop-review-btn" class="top-button">Stop Review</button>

        <!-- Progress Bar -->
        <div id="progress-bar-container">
          <div id="progress-bar"></div>
          <p id="progress-text">0/0</p>
        </div>

        <!-- Vocabulary Content -->
        <div id="vocab-display">
          <div id="vocab-image-container">
            <img id="vocab-image" src="" alt="" style="display: none" />
          </div>
          <p id="vocab-textt">Hi</p>
          <p id="vocab-descriptionn"></p>
        </div>

        <!-- Answer Options -->
        <div id="answer-options"></div>

        <!-- Submit Button -->
        <button id="submit-answer-btn">Submit</button>
      </div>
    </div>

    <!-- Overview Modal -->
    <div id="overview-modal" class="modal">
      <div class="modal-content">
        <h2>Learning Session Overview</h2>
        <p>Total Words Reviewed: <span id="total-reviewed"></span></p>
        <p>Correct Answers: <span id="correct-answers"></span></p>
        <p>Incorrect Attempts: <span id="incorrect-attempts"></span></p>
        <p>Time Spent: <span id="time-spent"></span> seconds</p>
        <h3>Performance Breakdown</h3>
        <ul id="performance-breakdown"></ul>
        <button id="back-to-home">Back to Home</button>
        <!-- <button id="restart-learning">Restart Learning</button> -->
      </div>
    </div>

    <div id="practice-badge" class="practice-badge">
      <span id="review-count" class="review-count">0</span>
      üìù
    </div>

    <script src="index.js"></script>
    <script src="app.js"></script>
    <script src="speech.js"></script>
    <script src="learn-progress.js"></script>
    <script src="lesson.js"></script>
  </body>
</html>
